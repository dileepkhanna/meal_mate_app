{% extends 'delivery/base.html' %}
{% block title %}{{ restaurant.name }} Menu - Meal Mate{% endblock %}

{% block content %}
<div class="menu-page-container">
    <!-- Breadcrumb Navigation -->
    <div class="breadcrumb">
        <a href="{% url 'customer_home' username %}"><i class="fas fa-home"></i> Restaurants</a>
        <span class="separator">›</span>
        <span class="current"><i class="fas fa-utensils"></i> {{ restaurant.name }}</span>
    </div>

    <!-- Restaurant Header Card -->
    <div class="restaurant-header-card">
        <div class="restaurant-header-image">
            <img src="{{ restaurant.picture }}" alt="{{ restaurant.name }}">
        </div>
        <div class="restaurant-header-info">
            <h1 class="restaurant-header-name">{{ restaurant.name }}</h1>
            <p class="restaurant-header-cuisine">
                <i class="fas fa-utensils"></i> {{ restaurant.cuisine }}
            </p>
            <div class="restaurant-header-rating">
                <span class="rating-stars">
                    {% for i in "12345" %}
                    {% if forloop.counter <= restaurant.rating %} <i class="fas fa-star"></i>
                        {% else %}
                        <i class="far fa-star"></i>
                        {% endif %}
                        {% endfor %}
                </span>
                <span class="rating-value">{{ restaurant.rating }}/5</span>
            </div>
        </div>
    </div>

    <!-- Menu Section Header -->
    <div class="menu-section-header">
        <h2><i class="fas fa-list"></i> Our Menu</h2>
        <p>Choose from our delicious selection</p>
    </div>

    <!-- Menu Items Grid -->
    {% if menu_items %}
    <div class="menu-items-grid">
        {% for item in menu_items %}
        <div class="menu-card">
            <div class="menu-card-image-wrapper">
                <img src="{{ item.picture }}" alt="{{ item.name }}" class="menu-card-image">
                <span class="menu-card-badge {% if item.is_veg %}badge-veg{% else %}badge-non-veg{% endif %}">
                    {% if item.is_veg %}
                    <i class="fas fa-leaf"></i> Veg
                    {% else %}
                    <i class="fas fa-drumstick-bite"></i> Non-Veg
                    {% endif %}
                </span>
            </div>
            <div class="menu-card-content">
                <h3 class="menu-card-title">{{ item.name }}</h3>
                <p class="menu-card-description">{{ item.description }}</p>
                <div class="menu-card-footer">
                    <div class="menu-card-price">
                        <span class="price-label">Price</span>
                        <span class="price-value">₹{{ item.price }}</span>
                    </div>
                    <form method="POST" action="{% url 'add_to_cart' item.id username %}" class="add-to-cart-form">
                        {% csrf_token %}
                        <button type="submit" class="btn-add-to-cart">
                            <i class="fas fa-plus"></i> Add
                        </button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-menu-state">
        <i class="fas fa-utensils"></i>
        <h3>No menu items available</h3>
        <p>This restaurant hasn't added any items yet. Check back soon!</p>
    </div>
    {% endif %}
</div>
{% endblock %}